<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>자바 스터디 - 10주차 | Prompt! Page</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Prompt! 동아리 Java 1st 스터디 과제모음">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c6d8ffaf.css" as="style"><link rel="preload" href="/assets/js/app.c3c96781.js" as="script"><link rel="preload" href="/assets/js/2.09ce48a9.js" as="script"><link rel="preload" href="/assets/js/1.7ae191a2.js" as="script"><link rel="preload" href="/assets/js/38.3af9eb50.js" as="script"><link rel="prefetch" href="/assets/js/10.93ad3937.js"><link rel="prefetch" href="/assets/js/11.777d0ef1.js"><link rel="prefetch" href="/assets/js/12.e844f00d.js"><link rel="prefetch" href="/assets/js/13.ef571fed.js"><link rel="prefetch" href="/assets/js/14.c32381c7.js"><link rel="prefetch" href="/assets/js/15.1e96f455.js"><link rel="prefetch" href="/assets/js/16.db62d408.js"><link rel="prefetch" href="/assets/js/17.18d3cfe0.js"><link rel="prefetch" href="/assets/js/18.e1438345.js"><link rel="prefetch" href="/assets/js/19.6d584c02.js"><link rel="prefetch" href="/assets/js/20.9cdd7ffe.js"><link rel="prefetch" href="/assets/js/21.eb9387ca.js"><link rel="prefetch" href="/assets/js/22.23f80f3c.js"><link rel="prefetch" href="/assets/js/23.46ba405f.js"><link rel="prefetch" href="/assets/js/24.9e22da6d.js"><link rel="prefetch" href="/assets/js/25.0b340e1f.js"><link rel="prefetch" href="/assets/js/26.f0f958f5.js"><link rel="prefetch" href="/assets/js/27.9d12d830.js"><link rel="prefetch" href="/assets/js/28.592ddb80.js"><link rel="prefetch" href="/assets/js/29.cbd226ac.js"><link rel="prefetch" href="/assets/js/3.15c6e41b.js"><link rel="prefetch" href="/assets/js/30.3c236e05.js"><link rel="prefetch" href="/assets/js/31.3d007174.js"><link rel="prefetch" href="/assets/js/32.64667b6a.js"><link rel="prefetch" href="/assets/js/33.16aca7cd.js"><link rel="prefetch" href="/assets/js/34.0ac74401.js"><link rel="prefetch" href="/assets/js/35.1566ddb0.js"><link rel="prefetch" href="/assets/js/36.e438fc17.js"><link rel="prefetch" href="/assets/js/37.a5aebd8b.js"><link rel="prefetch" href="/assets/js/39.0b81e0b6.js"><link rel="prefetch" href="/assets/js/4.510c4178.js"><link rel="prefetch" href="/assets/js/40.f721cc88.js"><link rel="prefetch" href="/assets/js/41.1a24632c.js"><link rel="prefetch" href="/assets/js/42.90b49ed0.js"><link rel="prefetch" href="/assets/js/43.9870c89d.js"><link rel="prefetch" href="/assets/js/44.32289965.js"><link rel="prefetch" href="/assets/js/45.5c1b3db8.js"><link rel="prefetch" href="/assets/js/46.da9fef51.js"><link rel="prefetch" href="/assets/js/47.45e37bc7.js"><link rel="prefetch" href="/assets/js/48.0edfa144.js"><link rel="prefetch" href="/assets/js/49.7d8e2ab9.js"><link rel="prefetch" href="/assets/js/5.ebaa4b5f.js"><link rel="prefetch" href="/assets/js/50.dd7c8695.js"><link rel="prefetch" href="/assets/js/51.fd2a2a9f.js"><link rel="prefetch" href="/assets/js/52.80315a09.js"><link rel="prefetch" href="/assets/js/53.05a01da8.js"><link rel="prefetch" href="/assets/js/54.60014427.js"><link rel="prefetch" href="/assets/js/55.000ce973.js"><link rel="prefetch" href="/assets/js/56.047bc8e1.js"><link rel="prefetch" href="/assets/js/57.20ce9b44.js"><link rel="prefetch" href="/assets/js/58.2cf32a7a.js"><link rel="prefetch" href="/assets/js/59.5ff98e5e.js"><link rel="prefetch" href="/assets/js/6.662c595c.js"><link rel="prefetch" href="/assets/js/60.cd1a353f.js"><link rel="prefetch" href="/assets/js/61.f91da55e.js"><link rel="prefetch" href="/assets/js/62.4f25d979.js"><link rel="prefetch" href="/assets/js/63.0eeb160a.js"><link rel="prefetch" href="/assets/js/64.51160e42.js"><link rel="prefetch" href="/assets/js/65.68b1bf3c.js"><link rel="prefetch" href="/assets/js/66.4478a624.js"><link rel="prefetch" href="/assets/js/67.684278a4.js"><link rel="prefetch" href="/assets/js/68.8af45f7d.js"><link rel="prefetch" href="/assets/js/69.f014dfe7.js"><link rel="prefetch" href="/assets/js/7.3c492a47.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.ee96d353.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c6d8ffaf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Prompt! Page</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  Java Study
</a></div><div class="nav-item"><a href="https://github.com/prompt-sejong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  Java Study
</a></div><div class="nav-item"><a href="https://github.com/prompt-sejong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>자바 스터디 - 10주차</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/1st-study/assignment-10/M1nu0x0/#_1-1-thread-클래스" class="sidebar-link">1.1. Thread 클래스</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/1st-study/assignment-10/M1nu0x0/#_1-2-runnable-인터페이스" class="sidebar-link">1.2. Runnable 인터페이스</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/1st-study/assignment-10/M1nu0x0/#_4-1-main-쓰레드의-제어" class="sidebar-link">4.1. main 쓰레드의 제어</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/1st-study/assignment-10/M1nu0x0/#synchronized-keyword" class="sidebar-link">synchronized keyword</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/1st-study/assignment-10/M1nu0x0/#wait-notify-notifyall" class="sidebar-link">wait(), notify(), notifyAll()</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="자바-스터디-10주차"><a href="#자바-스터디-10주차" class="header-anchor">#</a> 자바 스터디 - 10주차</h1> <h1 id="_1-thread-클래스와-runnable-인터페이스"><a href="#_1-thread-클래스와-runnable-인터페이스" class="header-anchor">#</a> 1. <a href="https://mangkyu.tistory.com/258" target="_blank" rel="noopener noreferrer">Thread 클래스와 Runnable 인터페이스<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h1> <h2 id="_1-1-thread-클래스"><a href="#_1-1-thread-클래스" class="header-anchor">#</a> 1.1. Thread 클래스</h2> <p>쓰레드 생성을 위해 java에서 미리 구현해둔 클래스이다. 다음과 같은 메소드를 가지고 있다.</p> <ul><li>sleep
<ul><li>현재 쓰레드 정지</li> <li>자원의 해제 없이 제어권을 넘겨주므로 데드락 발생 가능</li></ul></li> <li>interupt
<ul><li>다른 쓰레드를 깨워서 interruptedException을 발생</li> <li>interupt가 발생한 쓰레드는 예외를 catch하여 다른 작업을 할 수 있음</li></ul></li> <li>join
<ul><li>다른 쓰레드의 작업이 끝날 때까지 기다림</li> <li>쓰레드의 순서를 제어할 때 사용</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
        <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> threadName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>threadName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MyThread</span> th1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;first thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyThread</span> th2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;second thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        th1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> th2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_1-2-runnable-인터페이스"><a href="#_1-2-runnable-인터페이스" class="header-anchor">#</a> 1.2. Runnable 인터페이스</h2> <p>하나의 메소드만을 갖는 함수형 인터페이스이다. 따라서 람다식으로 사용할 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RunnableExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MyRunnable</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Thread</span> th1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token string">&quot;first thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> th2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token string">&quot;second thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        th1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> th2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이는 쓰레드를 사용한 것과 마찬가지로 동시성을 잘 나타내고 있다.</p> <h1 id="_2-쓰레드의-상태"><a href="#_2-쓰레드의-상태" class="header-anchor">#</a> 2. 쓰레드의 상태</h1> <ul><li>new
<ul><li>쓰레드 객체 생성</li> <li>start() 메소드가 호출되지 않은 상태</li> <li>실행 가능한 상태: 0</li> <li>따라서 new가 0이 아니면 <code>IllegalThreadStateException</code> 예외를 발생시킴</li></ul></li> <li>runnable
<ul><li>실행 상태로 언제든지 갈 수 있는 상태</li></ul></li> <li>waiting
<ul><li>다른 쓰레드가 통지할 때까지 기다리는 상태</li></ul></li> <li>time waiting
<ul><li>주어진 시간 동안 기다리는 상태</li></ul></li> <li>blocked
<ul><li>사용하고자 하는 객체의 락이 풀릴 때까지 기다리는 상태</li></ul></li> <li>terminated
<ul><li>실행을 마친 상태</li></ul></li></ul> <h1 id="_3-쓰레드의-우선순위"><a href="#_3-쓰레드의-우선순위" class="header-anchor">#</a> 3. 쓰레드의 우선순위</h1> <p>쓰레드 기본 우선순위 값이 큰 순서대로 먼저 실행된다. 쓰레드의 기본 우선 순위는 5로 설정되며, 최소는 1, 최대는 10이다. 이 값들은 Thread.class에 상수값으로 저장 되어있다.</p> <ul><li>public static int NORM_PRIORITY</li> <li>public static int MIN_PRIORITY</li> <li>public static int MAX_PRIORITY</li></ul> <p>자바에서 쓰레드의 우선 순위를 가져오고 설정하는 메소드가 있다.</p> <ul><li>public final int getPriority()
<ul><li>주어진 쓰레드의 우선 순위를 반환</li></ul></li> <li>public final void setPriority(int newPriority)
<ul><li>쓰레드의 우선 순위를 newPriority 값으로 변경.</li> <li>newPriority 값이 1미만, 10초과면 IllegalArgumentException을 발생시킴</li></ul></li></ul> <h1 id="_4-main-쓰레드"><a href="#_4-main-쓰레드" class="header-anchor">#</a> 4. <a href="https://velog.io/@paki1019/Java-%EB%A9%94%EC%9D%B8-%EC%8A%A4%EB%A0%88%EB%93%9CMain-thread" target="_blank" rel="noopener noreferrer">Main 쓰레드<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h1> <p>자바는 다중 쓰레드 프로그래밍을 지원한다. 다중 쓰레드는 2개 이상의 쓰레드로 구성되며, 쓰레드는 별도의 실행 경로를 가진다.
자바 프로그램 시작과 동시에 하나의 쓰레드가 즉시 동작하게 된다. 이를 <code>Main Thread</code>라 한다.</p> <p>메인 쓰레드는 다음과 같은 속성을 가진다.</p> <ul><li>메인 쓰레드에서 자식 쓰레드가 생긴다</li> <li>다양한 종료 작업을 수행하기 때문에 대체로 마지막으로 실행 종료되는 쓰레드여야 함
<img src="/assets/img/mainThread.fc1a26bb.png" alt="mainThread"></li></ul> <h2 id="_4-1-main-쓰레드의-제어"><a href="#_4-1-main-쓰레드의-제어" class="header-anchor">#</a> 4.1. main 쓰레드의 제어</h2> <p>자식 쓰레드는 부모 쓰레드의 우선순위를 그대로 상속한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainThreadExample</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span> mainThread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Thread</span> childThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="_5-동기화"><a href="#_5-동기화" class="header-anchor">#</a> 5. 동기화</h1> <p>쓰레드를 동기화하지 않으면 같은 공유 자원에 접근할 때 예상하지 못한 일이 발생할 수 있다. 따라서 동기화를 해주어야 해당 문제가 해결된다.</p> <p>쓰레드를 동기화하기 위해서는 Critical section(임계 영역)과 Lock(락)의 개념이 필요하다.</p> <ul><li>Critical section
<ul><li>둘 이상의 쓰레드가 동시에 접근해서는 안되는 코드의 영역</li></ul></li> <li>Lock
<ul><li>임계 영역을 포함하고 있는 객체에 접근할 수 있는 권한</li></ul></li></ul> <h2 id="synchronized-keyword"><a href="#synchronized-keyword" class="header-anchor">#</a> synchronized keyword</h2> <p>임계 영역으로 지정할 메소드의 반환 타입 앞에 입력하여 메소드 전체를 Critical section으로 설정할 수 있다. 설정한 메소드가 호출되면, 메소드가 포함된 객체의 Lock을 얻으며, Lock을 반납하기 전까지 다른 쓰레드는 해당 메소드를 실행하지 못한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">threadExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
</code></pre></div><p>멀티 쓰레딩 시 Critical section은 성능을 좌우하기 때문에 가능하면 메소드 전체에 락을 거는 것보다 블럭으로 임계영역을 최소화해서 효율적인 프로그램을 작성하는 것을 추천.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">threadExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// do something</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="wait-notify-notifyall"><a href="#wait-notify-notifyall" class="header-anchor">#</a> wait(), notify(), notifyAll()</h2> <p>wait 메소드는 Object의 인스턴스 메소드이다. 따라서 어떤 객체에서도 호출이 가능하지만, 오직 synchronized 블록 내에서만 호출이 가능하다. 그렇지 않으면 에러를 발생시킨다.</p> <p>wait() 메소드의 기능은 객체에 대한 lock을 release 하는 것이다.</p> <p>wait()을 걸게 되면 Lock을 release하고 WAITING, TIMED_WAITING 상태로 바뀌게 된다. 이는 Non-Runnable 영역이다.</p> <p>wait() 상태로 들어간 쓰레드는 notify() 혹은 notifyAll() 메소드를 호출함으로써 RUNNABLE 상태로 변경할 수 있다.</p> <p>TIMED_WAITING 상태의 쓰레드의 경우 wait(1000)과 같이 생성자를 이용하면 된다. 이는 시간이 지나면 자동으로 RUNNABLE 상태로 변경된다.</p> <p><a href="https://velog.io/@destiny1616/%EC%9E%90%EB%B0%94%EC%9D%98-wait%EC%99%80-notify-%EB%A9%94%EC%84%9C%EB%93%9C" target="_blank" rel="noopener noreferrer">참조 블로그<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="_6-데드락"><a href="#_6-데드락" class="header-anchor">#</a> 6. 데드락</h1> <p>데드락의 발생 조건이 있다.</p> <ul><li>Mutual Exclusion
<ul><li>한 자원에 대해 여러 쓰레드 동시 접근 불가</li></ul></li> <li>Hold and Wait
<ul><li>자원을 가지고 있는 상태에서 다른 쓰레드가 사용하고 있는 자원 반납을 기다리는 것</li></ul></li> <li>Non Preemptive
<ul><li>다른 쓰레드의 자원을 실행 중간에 강제로 가져올 수 없음</li></ul></li> <li>Circle Wait
<ul><li>각 쓰레드가 순환적으로 다음 쓰레드가 요구하는 자원을 가지고 있는 것</li></ul></li></ul> <p>만약 데드락이 발생하면 아무런 실행도 하지 못하고 무한정 대기를 한다.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c3c96781.js" defer></script><script src="/assets/js/2.09ce48a9.js" defer></script><script src="/assets/js/1.7ae191a2.js" defer></script><script src="/assets/js/38.3af9eb50.js" defer></script>
  </body>
</html>
